using namespace std;
#include "uti.h"

int checkweightContribution(TString ifname0 = "/data/wangj/debug/weighPthat/addmaxGenptBranch/Dzero/ntD_EvtBase_20160125_Dfinder_20151229_pp_Pythia8_prompt_D0_addmaxgenpt_0.root",
                            TString ifname5 = "/data/wangj/debug/weighPthat/addmaxGenptBranch/Dzero/ntD_EvtBase_20160125_Dfinder_20151229_pp_Pythia8_prompt_D0_addmaxgenpt_1.root",
                            TString ifname10 = "/data/wangj/debug/weighPthat/addmaxGenptBranch/Dzero/ntD_EvtBase_20160125_Dfinder_20151229_pp_Pythia8_prompt_D0_addmaxgenpt_2.root",
                            TString ifname15 = "/data/wangj/debug/weighPthat/addmaxGenptBranch/Dzero/ntD_EvtBase_20160125_Dfinder_20151229_pp_Pythia8_prompt_D0_addmaxgenpt_3.root",
                            TString ifname30 = "/data/wangj/debug/weighPthat/addmaxGenptBranch/Dzero/ntD_EvtBase_20160125_Dfinder_20151229_pp_Pythia8_prompt_D0_addmaxgenpt_4.root",
                            TString ifname50 = "/data/wangj/debug/weighPthat/addmaxGenptBranch/Dzero/ntD_EvtBase_20160125_Dfinder_20151229_pp_Pythia8_prompt_D0_addmaxgenpt_5.root")
{
  cout<<endl;
  TFile* infPthat0 = TFile::Open(ifname0);
  TTree* ntHiPthat0 = (TTree*)infPthat0->Get("ntHi");
  TFile* infPthat5 = TFile::Open(ifname5);
  TTree* ntHiPthat5 = (TTree*)infPthat5->Get("ntHi");
  TFile* infPthat10 = TFile::Open(ifname10);
  TTree* ntHiPthat10 = (TTree*)infPthat10->Get("ntHi");
  TFile* infPthat15 = TFile::Open(ifname15);
  TTree* ntHiPthat15 = (TTree*)infPthat15->Get("ntHi");
  TFile* infPthat30 = TFile::Open(ifname30);
  TTree* ntHiPthat30 = (TTree*)infPthat30->Get("ntHi");
  TFile* infPthat50 = TFile::Open(ifname50);
  TTree* ntHiPthat50 = (TTree*)infPthat50->Get("ntHi");

  TH1F* hTotal_pthat0_5 = new TH1F("hTotal_pthat0_5","",20,0,5);
  hTotal_pthat0_5->SetLineColor(1);
  hTotal_pthat0_5->SetLineWidth(3);  
  TH1F* hPthat0_pthat0_5_maxDgenpt0_inf = new TH1F("hPthat0_pthat0_5_maxDgenpt0_inf","",20,0,5);
  hPthat0_pthat0_5_maxDgenpt0_inf->SetLineColor(2);
  ntHiPthat0->Project("hPthat0_pthat0_5_maxDgenpt0_inf","pthat","maxDgenpt>0");
  divideBinWidthWithoutError(hPthat0_pthat0_5_maxDgenpt0_inf);
  hPthat0_pthat0_5_maxDgenpt0_inf->Scale(129380);
  hTotal_pthat0_5->Add(hPthat0_pthat0_5_maxDgenpt0_inf);

  TH1F* hPthat0_pthat5_10_maxDgenpt0_5 = new TH1F("hPthat0_pthat5_10_maxDgenpt0_5","",20,5,10);
  hPthat0_pthat5_10_maxDgenpt0_5->SetLineColor(2);
  TH1F* hPthat0_pthat5_10_maxDgenpt5_inf = new TH1F("hPthat0_pthat5_10_maxDgenpt5_inf","",20,5,10);
  TH1F* hPthat5_pthat5_10_maxDgenpt5_inf = new TH1F("hPthat5_pthat5_10_maxDgenpt5_inf","",20,5,10);
  hPthat5_pthat5_10_maxDgenpt5_inf->SetLineColor(3);
  ntHiPthat0->Project("hPthat0_pthat5_10_maxDgenpt0_5","pthat","maxDgenpt>0&&maxDgenpt<5"); 
  divideBinWidthWithoutError(hPthat0_pthat5_10_maxDgenpt0_5);
  hPthat0_pthat5_10_maxDgenpt0_5->Scale(129380);
  ntHiPthat0->Project("hPthat0_pthat5_10_maxDgenpt5_inf","pthat","maxDgenpt>5");
  divideBinWidthWithoutError(hPthat0_pthat5_10_maxDgenpt5_inf);
  ntHiPthat5->Project("hPthat5_pthat5_10_maxDgenpt5_inf","pthat","maxDgenpt>5");
  divideBinWidthWithoutError(hPthat5_pthat5_10_maxDgenpt5_inf);
  hPthat5_pthat5_10_maxDgenpt5_inf->Add(hPthat0_pthat5_10_maxDgenpt5_inf);
  hPthat5_pthat5_10_maxDgenpt5_inf->Scale(2979.14);
  TH1F* hTotal_pthat5_10 = new TH1F("hTotal_pthat5_10","",20,5,10);
  hTotal_pthat5_10->SetLineColor(1);
  hTotal_pthat5_10->SetLineWidth(3);  
  hTotal_pthat5_10->Add(hPthat0_pthat5_10_maxDgenpt0_5);
  hTotal_pthat5_10->Add(hPthat5_pthat5_10_maxDgenpt5_inf);

  TH1F* hPthat0_pthat10_15_maxDgenpt0_5 = new TH1F("hPthat0_pthat10_15_maxDgenpt0_5","",20,10,15);
  hPthat0_pthat10_15_maxDgenpt0_5->SetLineColor(2);
  TH1F* hPthat0_pthat10_15_maxDgenpt5_10 = new TH1F("hPthat0_pthat10_15_maxDgenpt5_10","",20,10,15);
  TH1F* hPthat5_pthat10_15_maxDgenpt5_10 = new TH1F("hPthat5_pthat10_15_maxDgenpt5_10","",20,10,15);
  hPthat5_pthat10_15_maxDgenpt5_10->SetLineColor(3);
  TH1F* hPthat0_pthat10_15_maxDgenpt10_inf = new TH1F("hPthat0_pthat10_15_maxDgenpt10_inf","",20,10,15);
  TH1F* hPthat5_pthat10_15_maxDgenpt10_inf = new TH1F("hPthat5_pthat10_15_maxDgenpt10_inf","",20,10,15);
  TH1F* hPthat10_pthat10_15_maxDgenpt10_inf = new TH1F("hPthat10_pthat10_15_maxDgenpt10_inf","",20,10,15);
  hPthat10_pthat10_15_maxDgenpt10_inf->SetLineColor(4);
  ntHiPthat0->Project("hPthat0_pthat10_15_maxDgenpt0_5","pthat","maxDgenpt>0&&maxDgenpt<5");
  divideBinWidthWithoutError(hPthat0_pthat10_15_maxDgenpt0_5);
  hPthat0_pthat10_15_maxDgenpt0_5->Scale(129380);
  ntHiPthat0->Project("hPthat0_pthat10_15_maxDgenpt5_10","pthat","maxDgenpt>5&&maxDgenpt<10");
  divideBinWidthWithoutError(hPthat0_pthat10_15_maxDgenpt5_10);
  ntHiPthat5->Project("hPthat5_pthat10_15_maxDgenpt5_10","pthat","maxDgenpt>5&&maxDgenpt<10");
  divideBinWidthWithoutError(hPthat5_pthat10_15_maxDgenpt5_10);
  hPthat5_pthat10_15_maxDgenpt5_10->Add(hPthat0_pthat10_15_maxDgenpt5_10);
  hPthat5_pthat10_15_maxDgenpt5_10->Scale(2979.14);
  ntHiPthat0->Project("hPthat0_pthat10_15_maxDgenpt10_inf","pthat","maxDgenpt>10");
  divideBinWidthWithoutError(hPthat0_pthat10_15_maxDgenpt10_inf);
  ntHiPthat5->Project("hPthat5_pthat10_15_maxDgenpt10_inf","pthat","maxDgenpt>10");
  divideBinWidthWithoutError(hPthat5_pthat10_15_maxDgenpt10_inf);
  ntHiPthat10->Project("hPthat10_pthat10_15_maxDgenpt10_inf","pthat","maxDgenpt>10");
  divideBinWidthWithoutError(hPthat10_pthat10_15_maxDgenpt10_inf);
  hPthat10_pthat10_15_maxDgenpt10_inf->Add(hPthat0_pthat10_15_maxDgenpt10_inf);
  hPthat10_pthat10_15_maxDgenpt10_inf->Add(hPthat5_pthat10_15_maxDgenpt10_inf);
  hPthat10_pthat10_15_maxDgenpt10_inf->Scale(174.337);
  TH1F* hTotal_pthat10_15 = new TH1F("hTotal_pthat10_15","",20,10,15);
  hTotal_pthat10_15->SetLineColor(1);
  hTotal_pthat10_15->SetLineWidth(3);  
  hTotal_pthat10_15->Add(hPthat0_pthat10_15_maxDgenpt0_5);
  hTotal_pthat10_15->Add(hPthat5_pthat10_15_maxDgenpt5_10);
  hTotal_pthat10_15->Add(hPthat10_pthat10_15_maxDgenpt10_inf);

  TH1F* hPthat0_pthat15_30_maxDgenpt0_5 = new TH1F("hPthat0_pthat15_30_maxDgenpt0_5","",20,15,30);
  hPthat0_pthat15_30_maxDgenpt0_5->SetLineColor(2);
  TH1F* hPthat0_pthat15_30_maxDgenpt5_10 = new TH1F("hPthat0_pthat15_30_maxDgenpt5_10","",20,15,30);
  TH1F* hPthat5_pthat15_30_maxDgenpt5_10 = new TH1F("hPthat5_pthat15_30_maxDgenpt5_10","",20,15,30);
  hPthat5_pthat15_30_maxDgenpt5_10->SetLineColor(3);
  TH1F* hPthat0_pthat15_30_maxDgenpt10_15 = new TH1F("hPthat0_pthat15_30_maxDgenpt10_15","",20,15,30);
  TH1F* hPthat5_pthat15_30_maxDgenpt10_15 = new TH1F("hPthat5_pthat15_30_maxDgenpt10_15","",20,15,30);
  TH1F* hPthat10_pthat15_30_maxDgenpt10_15 = new TH1F("hPthat10_pthat15_30_maxDgenpt10_15","",20,15,30);
  hPthat10_pthat15_30_maxDgenpt10_15->SetLineColor(4);
  TH1F* hPthat0_pthat15_30_maxDgenpt15_inf = new TH1F("hPthat0_pthat15_30_maxDgenpt15_inf","",20,15,30);
  TH1F* hPthat5_pthat15_30_maxDgenpt15_inf = new TH1F("hPthat5_pthat15_30_maxDgenpt15_inf","",20,15,30);
  TH1F* hPthat10_pthat15_30_maxDgenpt15_inf = new TH1F("hPthat10_pthat15_30_maxDgenpt15_inf","",20,15,30);
  TH1F* hPthat15_pthat15_30_maxDgenpt15_inf = new TH1F("hPthat15_pthat15_30_maxDgenpt15_inf","",20,15,30);
  hPthat15_pthat15_30_maxDgenpt15_inf->SetLineColor(5);
  ntHiPthat0->Project("hPthat0_pthat15_30_maxDgenpt0_5","pthat","maxDgenpt>0&&maxDgenpt<5");
  divideBinWidthWithoutError(hPthat0_pthat15_30_maxDgenpt0_5);
  hPthat0_pthat15_30_maxDgenpt0_5->Scale(129380);
  ntHiPthat0->Project("hPthat0_pthat15_30_maxDgenpt5_10","pthat","maxDgenpt>5&&maxDgenpt<10");
  divideBinWidthWithoutError(hPthat0_pthat15_30_maxDgenpt5_10);
  ntHiPthat5->Project("hPthat5_pthat15_30_maxDgenpt5_10","pthat","maxDgenpt>5&&maxDgenpt<10");
  divideBinWidthWithoutError(hPthat5_pthat15_30_maxDgenpt5_10);
  hPthat5_pthat15_30_maxDgenpt5_10->Add(hPthat0_pthat15_30_maxDgenpt5_10);
  hPthat5_pthat15_30_maxDgenpt5_10->Scale(2979.14);
  ntHiPthat0->Project("hPthat0_pthat15_30_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat0_pthat15_30_maxDgenpt10_15);
  ntHiPthat5->Project("hPthat5_pthat15_30_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat5_pthat15_30_maxDgenpt10_15);
  ntHiPthat10->Project("hPthat10_pthat15_30_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat10_pthat15_30_maxDgenpt10_15);
  hPthat10_pthat15_30_maxDgenpt10_15->Add(hPthat0_pthat15_30_maxDgenpt10_15);
  hPthat10_pthat15_30_maxDgenpt10_15->Add(hPthat5_pthat15_30_maxDgenpt10_15);
  hPthat10_pthat15_30_maxDgenpt10_15->Scale(174.337);
  ntHiPthat0->Project("hPthat0_pthat15_30_maxDgenpt15_inf","pthat","maxDgenpt>15");
  divideBinWidthWithoutError(hPthat0_pthat15_30_maxDgenpt15_inf);
  ntHiPthat5->Project("hPthat5_pthat15_30_maxDgenpt15_inf","pthat","maxDgenpt>15");
  divideBinWidthWithoutError(hPthat5_pthat15_30_maxDgenpt15_inf);
  ntHiPthat10->Project("hPthat10_pthat15_30_maxDgenpt15_inf","pthat","maxDgenpt>15");
  divideBinWidthWithoutError(hPthat10_pthat15_30_maxDgenpt15_inf);
  ntHiPthat15->Project("hPthat15_pthat15_30_maxDgenpt15_inf","pthat","maxDgenpt>15");
  divideBinWidthWithoutError(hPthat15_pthat15_30_maxDgenpt15_inf);
  hPthat15_pthat15_30_maxDgenpt15_inf->Add(hPthat0_pthat15_30_maxDgenpt15_inf);
  hPthat15_pthat15_30_maxDgenpt15_inf->Add(hPthat5_pthat15_30_maxDgenpt15_inf);
  hPthat15_pthat15_30_maxDgenpt15_inf->Add(hPthat10_pthat15_30_maxDgenpt15_inf);
  hPthat15_pthat15_30_maxDgenpt15_inf->Scale(34.9498);
  TH1F* hTotal_pthat15_30 = new TH1F("hTotal_pthat15_30","",20,15,30);
  hTotal_pthat15_30->SetLineColor(1);
  hTotal_pthat15_30->SetLineWidth(3);
  hTotal_pthat15_30->Add(hPthat0_pthat15_30_maxDgenpt0_5);
  hTotal_pthat15_30->Add(hPthat5_pthat15_30_maxDgenpt5_10);
  hTotal_pthat15_30->Add(hPthat10_pthat15_30_maxDgenpt10_15);
  hTotal_pthat15_30->Add(hPthat15_pthat15_30_maxDgenpt15_inf);

  TH1F* hPthat0_pthat30_50_maxDgenpt0_5 = new TH1F("hPthat0_pthat30_50_maxDgenpt0_5","",20,30,50);
  hPthat0_pthat30_50_maxDgenpt0_5->SetLineColor(2);
  TH1F* hPthat0_pthat30_50_maxDgenpt5_10 = new TH1F("hPthat0_pthat30_50_maxDgenpt5_10","",20,30,50);
  TH1F* hPthat5_pthat30_50_maxDgenpt5_10 = new TH1F("hPthat5_pthat30_50_maxDgenpt5_10","",20,30,50);
  hPthat5_pthat30_50_maxDgenpt5_10->SetLineColor(3);
  TH1F* hPthat0_pthat30_50_maxDgenpt10_15 = new TH1F("hPthat0_pthat30_50_maxDgenpt10_15","",20,30,50);
  TH1F* hPthat5_pthat30_50_maxDgenpt10_15 = new TH1F("hPthat5_pthat30_50_maxDgenpt10_15","",20,30,50);
  TH1F* hPthat10_pthat30_50_maxDgenpt10_15 = new TH1F("hPthat10_pthat30_50_maxDgenpt10_15","",20,30,50);
  hPthat10_pthat30_50_maxDgenpt10_15->SetLineColor(4);
  TH1F* hPthat0_pthat30_50_maxDgenpt15_30 = new TH1F("hPthat0_pthat30_50_maxDgenpt15_30","",20,30,50);
  TH1F* hPthat5_pthat30_50_maxDgenpt15_30 = new TH1F("hPthat5_pthat30_50_maxDgenpt15_30","",20,30,50);
  TH1F* hPthat10_pthat30_50_maxDgenpt15_30 = new TH1F("hPthat10_pthat30_50_maxDgenpt15_30","",20,30,50);
  TH1F* hPthat15_pthat30_50_maxDgenpt15_30 = new TH1F("hPthat15_pthat30_50_maxDgenpt15_30","",20,30,50);
  hPthat15_pthat30_50_maxDgenpt15_30->SetLineColor(5);
  TH1F* hPthat0_pthat30_50_maxDgenpt30_inf = new TH1F("hPthat0_pthat30_50_maxDgenpt30_inf","",20,30,50);
  TH1F* hPthat5_pthat30_50_maxDgenpt30_inf = new TH1F("hPthat5_pthat30_50_maxDgenpt30_inf","",20,30,50);
  TH1F* hPthat10_pthat30_50_maxDgenpt30_inf = new TH1F("hPthat10_pthat30_50_maxDgenpt30_inf","",20,30,50);
  TH1F* hPthat15_pthat30_50_maxDgenpt30_inf = new TH1F("hPthat15_pthat30_50_maxDgenpt30_inf","",20,30,50);
  TH1F* hPthat30_pthat30_50_maxDgenpt30_inf = new TH1F("hPthat30_pthat30_50_maxDgenpt30_inf","",20,30,50);
  hPthat30_pthat30_50_maxDgenpt30_inf->SetLineColor(6);
  ntHiPthat0->Project("hPthat0_pthat30_50_maxDgenpt0_5","pthat","maxDgenpt>0&&maxDgenpt<5");
  divideBinWidthWithoutError(hPthat0_pthat30_50_maxDgenpt0_5);
  hPthat0_pthat30_50_maxDgenpt0_5->Scale(129380);
  ntHiPthat0->Project("hPthat0_pthat30_50_maxDgenpt5_10","pthat","maxDgenpt>5&&maxDgenpt<10");
  divideBinWidthWithoutError(hPthat0_pthat30_50_maxDgenpt5_10);
  ntHiPthat5->Project("hPthat5_pthat30_50_maxDgenpt5_10","pthat","maxDgenpt>5&&maxDgenpt<10");
  divideBinWidthWithoutError(hPthat5_pthat30_50_maxDgenpt5_10);
  hPthat5_pthat30_50_maxDgenpt5_10->Add(hPthat0_pthat30_50_maxDgenpt5_10);
  hPthat5_pthat30_50_maxDgenpt5_10->Scale(2979.14);
  ntHiPthat0->Project("hPthat0_pthat30_50_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat0_pthat30_50_maxDgenpt10_15);
  ntHiPthat5->Project("hPthat5_pthat30_50_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat5_pthat30_50_maxDgenpt10_15);
  ntHiPthat10->Project("hPthat10_pthat30_50_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat10_pthat30_50_maxDgenpt10_15);
  hPthat10_pthat30_50_maxDgenpt10_15->Add(hPthat0_pthat30_50_maxDgenpt10_15);
  hPthat10_pthat30_50_maxDgenpt10_15->Add(hPthat5_pthat30_50_maxDgenpt10_15);
  hPthat10_pthat30_50_maxDgenpt10_15->Scale(174.337);
  ntHiPthat0->Project("hPthat0_pthat30_50_maxDgenpt15_30","pthat","maxDgenpt>15&&maxDgenpt<30");
  divideBinWidthWithoutError(hPthat0_pthat30_50_maxDgenpt15_30);
  ntHiPthat5->Project("hPthat5_pthat30_50_maxDgenpt15_30","pthat","maxDgenpt>15&&maxDgenpt<30");
  divideBinWidthWithoutError(hPthat5_pthat30_50_maxDgenpt15_30);
  ntHiPthat10->Project("hPthat10_pthat30_50_maxDgenpt15_30","pthat","maxDgenpt>15&&maxDgenpt<30");
  divideBinWidthWithoutError(hPthat10_pthat30_50_maxDgenpt15_30);
  ntHiPthat15->Project("hPthat15_pthat30_50_maxDgenpt15_30","pthat","maxDgenpt>15&&maxDgenpt<30");
  divideBinWidthWithoutError(hPthat15_pthat30_50_maxDgenpt15_30);
  hPthat15_pthat30_50_maxDgenpt15_30->Add(hPthat0_pthat30_50_maxDgenpt15_30);
  hPthat15_pthat30_50_maxDgenpt15_30->Add(hPthat5_pthat30_50_maxDgenpt15_30);
  hPthat15_pthat30_50_maxDgenpt15_30->Add(hPthat10_pthat30_50_maxDgenpt15_30);
  hPthat15_pthat30_50_maxDgenpt15_30->Scale(34.9498);
  ntHiPthat0->Project("hPthat0_pthat30_50_maxDgenpt30_inf","pthat","maxDgenpt>30");
  divideBinWidthWithoutError(hPthat0_pthat30_50_maxDgenpt30_inf);
  ntHiPthat5->Project("hPthat5_pthat30_50_maxDgenpt30_inf","pthat","maxDgenpt>30");
  divideBinWidthWithoutError(hPthat5_pthat30_50_maxDgenpt30_inf);
  ntHiPthat10->Project("hPthat10_pthat30_50_maxDgenpt30_inf","pthat","maxDgenpt>30");
  divideBinWidthWithoutError(hPthat10_pthat30_50_maxDgenpt30_inf);
  ntHiPthat15->Project("hPthat15_pthat30_50_maxDgenpt30_inf","pthat","maxDgenpt>30");
  divideBinWidthWithoutError(hPthat15_pthat30_50_maxDgenpt30_inf);
  ntHiPthat30->Project("hPthat30_pthat30_50_maxDgenpt30_inf","pthat","maxDgenpt>30");
  divideBinWidthWithoutError(hPthat30_pthat30_50_maxDgenpt30_inf);
  hPthat30_pthat30_50_maxDgenpt30_inf->Add(hPthat0_pthat30_50_maxDgenpt30_inf);
  hPthat30_pthat30_50_maxDgenpt30_inf->Add(hPthat5_pthat30_50_maxDgenpt30_inf);
  hPthat30_pthat30_50_maxDgenpt30_inf->Add(hPthat10_pthat30_50_maxDgenpt30_inf);
  hPthat30_pthat30_50_maxDgenpt30_inf->Add(hPthat15_pthat30_50_maxDgenpt30_inf);
  hPthat30_pthat30_50_maxDgenpt30_inf->Scale(1.58835);
  TH1F* hTotal_pthat30_50 = new TH1F("hTotal_pthat30_50","",20,30,50);
  hTotal_pthat30_50->SetLineColor(1);
  hTotal_pthat30_50->SetLineWidth(3);
  hTotal_pthat30_50->Add(hPthat0_pthat30_50_maxDgenpt0_5);
  hTotal_pthat30_50->Add(hPthat5_pthat30_50_maxDgenpt5_10);
  hTotal_pthat30_50->Add(hPthat10_pthat30_50_maxDgenpt10_15);
  hTotal_pthat30_50->Add(hPthat15_pthat30_50_maxDgenpt15_30);
  hTotal_pthat30_50->Add(hPthat30_pthat30_50_maxDgenpt30_inf);

  TH1F* hPthat0_pthat50_80_maxDgenpt0_5 = new TH1F("hPthat0_pthat50_80_maxDgenpt0_5","",20,50,80);
  hPthat0_pthat50_80_maxDgenpt0_5->SetLineColor(2);
  TH1F* hPthat0_pthat50_80_maxDgenpt5_10 = new TH1F("hPthat0_pthat50_80_maxDgenpt5_10","",20,50,80);
  TH1F* hPthat5_pthat50_80_maxDgenpt5_10 = new TH1F("hPthat5_pthat50_80_maxDgenpt5_10","",20,50,80);
  hPthat5_pthat50_80_maxDgenpt5_10->SetLineColor(3);
  TH1F* hPthat0_pthat50_80_maxDgenpt10_15 = new TH1F("hPthat0_pthat50_80_maxDgenpt10_15","",20,50,80);
  TH1F* hPthat5_pthat50_80_maxDgenpt10_15 = new TH1F("hPthat5_pthat50_80_maxDgenpt10_15","",20,50,80);
  TH1F* hPthat10_pthat50_80_maxDgenpt10_15 = new TH1F("hPthat10_pthat50_80_maxDgenpt10_15","",20,50,80);
  hPthat10_pthat50_80_maxDgenpt10_15->SetLineColor(4);
  TH1F* hPthat0_pthat50_80_maxDgenpt15_30 = new TH1F("hPthat0_pthat50_80_maxDgenpt15_30","",20,50,80);
  TH1F* hPthat5_pthat50_80_maxDgenpt15_30 = new TH1F("hPthat5_pthat50_80_maxDgenpt15_30","",20,50,80);
  TH1F* hPthat10_pthat50_80_maxDgenpt15_30 = new TH1F("hPthat10_pthat50_80_maxDgenpt15_30","",20,50,80);
  TH1F* hPthat15_pthat50_80_maxDgenpt15_30 = new TH1F("hPthat15_pthat50_80_maxDgenpt15_30","",20,50,80);
  hPthat15_pthat50_80_maxDgenpt15_30->SetLineColor(5);
  TH1F* hPthat0_pthat50_80_maxDgenpt30_50 = new TH1F("hPthat0_pthat50_80_maxDgenpt30_50","",20,50,80);
  TH1F* hPthat5_pthat50_80_maxDgenpt30_50 = new TH1F("hPthat5_pthat50_80_maxDgenpt30_50","",20,50,80);
  TH1F* hPthat10_pthat50_80_maxDgenpt30_50 = new TH1F("hPthat10_pthat50_80_maxDgenpt30_50","",20,50,80);
  TH1F* hPthat15_pthat50_80_maxDgenpt30_50 = new TH1F("hPthat15_pthat50_80_maxDgenpt30_50","",20,50,80);
  TH1F* hPthat30_pthat50_80_maxDgenpt30_50 = new TH1F("hPthat30_pthat50_80_maxDgenpt30_50","",20,50,80);
  hPthat30_pthat50_80_maxDgenpt30_50->SetLineColor(6);
  TH1F* hPthat0_pthat50_80_maxDgenpt50_inf = new TH1F("hPthat0_pthat50_80_maxDgenpt50_inf","",20,50,80);
  TH1F* hPthat5_pthat50_80_maxDgenpt50_inf = new TH1F("hPthat5_pthat50_80_maxDgenpt50_inf","",20,50,80);
  TH1F* hPthat10_pthat50_80_maxDgenpt50_inf = new TH1F("hPthat10_pthat50_80_maxDgenpt50_inf","",20,50,80);
  TH1F* hPthat15_pthat50_80_maxDgenpt50_inf = new TH1F("hPthat15_pthat50_80_maxDgenpt50_inf","",20,50,80);
  TH1F* hPthat30_pthat50_80_maxDgenpt50_inf = new TH1F("hPthat30_pthat50_80_maxDgenpt50_inf","",20,50,80);
  TH1F* hPthat50_pthat50_80_maxDgenpt50_inf = new TH1F("hPthat50_pthat50_80_maxDgenpt50_inf","",20,50,80);
  hPthat50_pthat50_80_maxDgenpt50_inf->SetLineColor(7);
  ntHiPthat0->Project("hPthat0_pthat50_80_maxDgenpt0_5","pthat","maxDgenpt>0&&maxDgenpt<5");
  divideBinWidthWithoutError(hPthat0_pthat50_80_maxDgenpt0_5);
  hPthat0_pthat50_80_maxDgenpt0_5->Scale(129380);
  ntHiPthat0->Project("hPthat0_pthat50_80_maxDgenpt5_10","pthat","maxDgenpt>5&&maxDgenpt<10");
  divideBinWidthWithoutError(hPthat0_pthat50_80_maxDgenpt5_10);
  ntHiPthat5->Project("hPthat5_pthat50_80_maxDgenpt5_10","pthat","maxDgenpt>5&&maxDgenpt<10");
  divideBinWidthWithoutError(hPthat5_pthat50_80_maxDgenpt5_10);
  hPthat5_pthat50_80_maxDgenpt5_10->Add(hPthat0_pthat50_80_maxDgenpt5_10);
  hPthat5_pthat50_80_maxDgenpt5_10->Scale(2979.14);
  ntHiPthat0->Project("hPthat0_pthat50_80_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat0_pthat50_80_maxDgenpt10_15);
  ntHiPthat5->Project("hPthat5_pthat50_80_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat5_pthat50_80_maxDgenpt10_15);
  ntHiPthat10->Project("hPthat10_pthat50_80_maxDgenpt10_15","pthat","maxDgenpt>10&&maxDgenpt<15");
  divideBinWidthWithoutError(hPthat10_pthat50_80_maxDgenpt10_15);
  hPthat10_pthat50_80_maxDgenpt10_15->Add(hPthat0_pthat50_80_maxDgenpt10_15);
  hPthat10_pthat50_80_maxDgenpt10_15->Add(hPthat5_pthat50_80_maxDgenpt10_15);
  hPthat10_pthat50_80_maxDgenpt10_15->Scale(174.337);
  ntHiPthat0->Project("hPthat0_pthat50_80_maxDgenpt15_30","pthat","maxDgenpt>15&&maxDgenpt<30");
  divideBinWidthWithoutError(hPthat0_pthat50_80_maxDgenpt15_30);
  ntHiPthat5->Project("hPthat5_pthat50_80_maxDgenpt15_30","pthat","maxDgenpt>15&&maxDgenpt<30");
  divideBinWidthWithoutError(hPthat5_pthat50_80_maxDgenpt15_30);
  ntHiPthat10->Project("hPthat10_pthat50_80_maxDgenpt15_30","pthat","maxDgenpt>15&&maxDgenpt<30");
  divideBinWidthWithoutError(hPthat10_pthat50_80_maxDgenpt15_30);
  ntHiPthat15->Project("hPthat15_pthat50_80_maxDgenpt15_30","pthat","maxDgenpt>15&&maxDgenpt<30");
  divideBinWidthWithoutError(hPthat15_pthat50_80_maxDgenpt15_30);
  hPthat15_pthat50_80_maxDgenpt15_30->Add(hPthat0_pthat50_80_maxDgenpt15_30);
  hPthat15_pthat50_80_maxDgenpt15_30->Add(hPthat5_pthat50_80_maxDgenpt15_30);
  hPthat15_pthat50_80_maxDgenpt15_30->Add(hPthat10_pthat50_80_maxDgenpt15_30);
  hPthat15_pthat50_80_maxDgenpt15_30->Scale(34.9498);
  ntHiPthat0->Project("hPthat0_pthat50_80_maxDgenpt30_50","pthat","maxDgenpt>30&&maxDgenpt<50");
  divideBinWidthWithoutError(hPthat0_pthat50_80_maxDgenpt30_50);
  ntHiPthat5->Project("hPthat5_pthat50_80_maxDgenpt30_50","pthat","maxDgenpt>30&&maxDgenpt<50");
  divideBinWidthWithoutError(hPthat5_pthat50_80_maxDgenpt30_50);
  ntHiPthat10->Project("hPthat10_pthat50_80_maxDgenpt30_50","pthat","maxDgenpt>30&&maxDgenpt<50");
  divideBinWidthWithoutError(hPthat10_pthat50_80_maxDgenpt30_50);
  ntHiPthat15->Project("hPthat15_pthat50_80_maxDgenpt30_50","pthat","maxDgenpt>30&&maxDgenpt<50");
  divideBinWidthWithoutError(hPthat15_pthat50_80_maxDgenpt30_50);
  ntHiPthat30->Project("hPthat30_pthat50_80_maxDgenpt30_50","pthat","maxDgenpt>30&&maxDgenpt<50");
  divideBinWidthWithoutError(hPthat30_pthat50_80_maxDgenpt30_50);
  hPthat30_pthat50_80_maxDgenpt30_50->Add(hPthat0_pthat50_80_maxDgenpt30_50);
  hPthat30_pthat50_80_maxDgenpt30_50->Add(hPthat5_pthat50_80_maxDgenpt30_50);
  hPthat30_pthat50_80_maxDgenpt30_50->Add(hPthat10_pthat50_80_maxDgenpt30_50);
  hPthat30_pthat50_80_maxDgenpt30_50->Add(hPthat15_pthat50_80_maxDgenpt30_50);
  hPthat30_pthat50_80_maxDgenpt30_50->Scale(1.58835);
  ntHiPthat0->Project("hPthat0_pthat50_80_maxDgenpt50_inf","pthat","maxDgenpt>50");
  divideBinWidthWithoutError(hPthat0_pthat50_80_maxDgenpt50_inf);
  ntHiPthat5->Project("hPthat5_pthat50_80_maxDgenpt50_inf","pthat","maxDgenpt>50");
  divideBinWidthWithoutError(hPthat5_pthat50_80_maxDgenpt50_inf);
  ntHiPthat10->Project("hPthat10_pthat50_80_maxDgenpt50_inf","pthat","maxDgenpt>50");
  divideBinWidthWithoutError(hPthat10_pthat50_80_maxDgenpt50_inf);
  ntHiPthat15->Project("hPthat15_pthat50_80_maxDgenpt50_inf","pthat","maxDgenpt>50");
  divideBinWidthWithoutError(hPthat15_pthat50_80_maxDgenpt50_inf);
  ntHiPthat30->Project("hPthat30_pthat50_80_maxDgenpt50_inf","pthat","maxDgenpt>50");
  divideBinWidthWithoutError(hPthat30_pthat50_80_maxDgenpt50_inf);
  ntHiPthat50->Project("hPthat50_pthat50_80_maxDgenpt50_inf","pthat","maxDgenpt>50");
  divideBinWidthWithoutError(hPthat50_pthat50_80_maxDgenpt50_inf);
  hPthat50_pthat50_80_maxDgenpt50_inf->Add(hPthat0_pthat50_80_maxDgenpt50_inf);
  hPthat50_pthat50_80_maxDgenpt50_inf->Add(hPthat5_pthat50_80_maxDgenpt50_inf);
  hPthat50_pthat50_80_maxDgenpt50_inf->Add(hPthat10_pthat50_80_maxDgenpt50_inf);
  hPthat50_pthat50_80_maxDgenpt50_inf->Add(hPthat15_pthat50_80_maxDgenpt50_inf);
  hPthat50_pthat50_80_maxDgenpt50_inf->Add(hPthat30_pthat50_80_maxDgenpt50_inf);
  hPthat50_pthat50_80_maxDgenpt50_inf->Scale(0.153603);
  TH1F* hTotal_pthat50_80 = new TH1F("hTotal_pthat50_80","",20,50,80);
  hTotal_pthat50_80->SetLineColor(1);
  hTotal_pthat50_80->SetLineWidth(3);
  hTotal_pthat50_80->Add(hPthat0_pthat50_80_maxDgenpt0_5);
  hTotal_pthat50_80->Add(hPthat5_pthat50_80_maxDgenpt5_10);
  hTotal_pthat50_80->Add(hPthat10_pthat50_80_maxDgenpt10_15);
  hTotal_pthat50_80->Add(hPthat15_pthat50_80_maxDgenpt15_30);
  hTotal_pthat50_80->Add(hPthat30_pthat50_80_maxDgenpt30_50);
  hTotal_pthat50_80->Add(hPthat50_pthat50_80_maxDgenpt50_inf);


  TH2D *hempty = new TH2D("hempty","",80,0.,80.,10,1.e+1,1.e+11);
  hempty->GetXaxis()->SetTitle("pthat");
  hempty->GetYaxis()->SetTitle("dN/dpthat");
  hempty->GetXaxis()->SetTitleOffset(1.);
  hempty->GetYaxis()->SetTitleOffset(.9);
  hempty->GetXaxis()->SetTitleSize(0.045);
  hempty->GetYaxis()->SetTitleSize(0.045);
  hempty->GetXaxis()->SetTitleFont(42);
  hempty->GetYaxis()->SetTitleFont(42);
  hempty->GetXaxis()->SetLabelFont(42);
  hempty->GetYaxis()->SetLabelFont(42);
  hempty->GetXaxis()->SetLabelSize(0.035);
  hempty->GetYaxis()->SetLabelSize(0.035);  
  TCanvas* c = new TCanvas("c","",600,600);
  c->SetLogy();
  hempty->Draw();
  hTotal_pthat0_5->Draw("same");
  hPthat0_pthat0_5_maxDgenpt0_inf->Draw("same");

  hTotal_pthat5_10->Draw("same");
  hPthat0_pthat5_10_maxDgenpt0_5->Draw("same");
  hPthat5_pthat5_10_maxDgenpt5_inf->Draw("same");

  hTotal_pthat10_15->Draw("same");
  hPthat0_pthat10_15_maxDgenpt0_5->Draw("same");
  hPthat5_pthat10_15_maxDgenpt5_10->Draw("same");
  hPthat10_pthat10_15_maxDgenpt10_inf->Draw("same");

  hTotal_pthat15_30->Draw("same");
  hPthat0_pthat15_30_maxDgenpt0_5->Draw("same");
  hPthat5_pthat15_30_maxDgenpt5_10->Draw("same");
  hPthat10_pthat15_30_maxDgenpt10_15->Draw("same");
  hPthat15_pthat15_30_maxDgenpt15_inf->Draw("same");

  hTotal_pthat30_50->Draw("same");
  hPthat0_pthat30_50_maxDgenpt0_5->Draw("same");
  hPthat5_pthat30_50_maxDgenpt5_10->Draw("same");
  hPthat10_pthat30_50_maxDgenpt10_15->Draw("same");
  hPthat15_pthat30_50_maxDgenpt15_30->Draw("same");
  hPthat30_pthat30_50_maxDgenpt30_inf->Draw("same");

  hTotal_pthat50_80->Draw("same");
  hPthat0_pthat50_80_maxDgenpt0_5->Draw("same");
  hPthat5_pthat50_80_maxDgenpt5_10->Draw("same");
  hPthat10_pthat50_80_maxDgenpt10_15->Draw("same");
  hPthat15_pthat50_80_maxDgenpt15_30->Draw("same");
  hPthat30_pthat50_80_maxDgenpt30_50->Draw("same");
  hPthat50_pthat50_80_maxDgenpt50_inf->Draw("same");

  return 1;
}
